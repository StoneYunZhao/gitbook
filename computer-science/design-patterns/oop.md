# OOP

**面向对象编程**（OOP，Object Oriented Programming）是一种编程范式或编程风格，以类（class）和对象（object）作为组织代码的基本单元，并将封装、抽象、继承、多态四个特性作为代码设计和实现的基石。

**四大特性**封装、抽象、继承、多态，有些人也认为只有三大特性，把抽象排除在外。

**面向对象编程语言**（OOPL，Object Oriented Programming Language）是支持类或对象的语法机制，并有现成的语法机制，能方便地实现面向对象编程四大特性（封装、抽象、继承、多态）的编程语言。

按照严格的定义，很多语言都不是面 OOPL，比如 JavaScript 不支持封装和继承，Go 摒弃了继承。但是按照不严格的定义，很多语言都可以说是 OOPL，只要某种编程语言支持类或对象的语法概念，并且以此作为组织代码的基本单元，那就可以被粗略地认为它就是 OOPL 了。

OOP 一般使用 OOPL 来进行，但是，不用 OOPL，我们照样可以进行 OOP。反过来讲，即便我们使用 OOPL，写出来的代码也不一定是 OOP 风格的，也有可能是面向过程编程风格的。

**面向对象分析**（OOA，Object Oriented Analysis）和**面向对象设计**（OOA，Object Oriented Design）的产出是类的设计，包括程序被拆解成哪些类、类有哪些属性方法、类于类之间的关系。

## 四大特性

### 封装（Encapsulation）

也叫信息隐藏或数据访问保护。封装的意义：

* 提高代码的可维护性。如果对类中的属性访问不做限制，那么则类不可控，属性被随意修改，修改的逻辑散落在代码各个角落。
* 类通过仅暴露必要的操作，可以提高类的易用性，调用者不需要了解过多的细节。

### 抽象（Abstraction）

封装讲的是如何隐藏信息、保护数据；而抽象讲的是隐藏方法的具体实现，调用者只关系方法提供了哪些功能，并不需要知道这些功能是怎么实现的。

通常使用接口类或抽象类两种语法机制实现。

{% hint style="info" %}
上文讲到有时候抽象被排除在四大特性之外。原因如下：  
实现抽象不一定需要接口类或抽象类，因为类的方法是通过编程语言的函数这一语法机制本省就是抽象，使用者在调用函数的时候，并不需要知道内部逻辑。
{% endhint %}

抽象的意义：

* 抽象和封装都是处理复杂性的有效手段，面对复杂系统，人脑有限，所以必须忽略掉非关键的细节。
* 提高代码的可扩展性、维护性，修改实现不需要修改定义。

### 继承（Inheritance）

继承表示类之间 is-a 的关系。继承分为单继承和多继承。

继承最大的好处是代码复用。不过，过度使用继承会导致代码的可读性，可维护性变差，父类和子类耦合度过高。所以继承这个特性非常有争议，我们应该尽量少用。

### 多态（Polymorphism）

多态是指子类可以替换父类，在实际的代码运行过程中，调用子类的方法实现。

多态的实现一般需要三种语法机制：

* 父类对象引用可以指向子类对象。
* 支持继承。
* 子类可以重写（override）父类方法。

多态可以提高代码的可扩展性和复用性。

